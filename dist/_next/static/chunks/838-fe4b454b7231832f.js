(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{7083:function(a,b,c){"use strict";/*
 * EJS Embedded JavaScript templates
 * Copyright 2112 Matthew Eernisse (mde@fleegix.org)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
*/ /**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */ /**
 * EJS internal functions.
 *
 * Technically this "module" lies in the same file as {@link module:ejs}, for
 * the sake of organization all the private functions re grouped into this
 * module.
 *
 * @module ejs-internal
 * @private
 */ /**
 * Embedded JavaScript templating engine.
 *
 * @module ejs
 * @public
 */ var d=c(299),e=c(1864),f=c(1176),g=!1,h=c(3558).i8,i="locals",j="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",k=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],l=k.concat("cache"),m=/^\uFEFF/,n=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function o(a,c){var e;if(c.some(function(c){return e=b.resolveInclude(a,c,!0),d.existsSync(e)}))return e}function p(a,c){var d,e=a.filename,f=arguments.length>1;if(a.cache){if(!e)throw Error("cache option requires a filename");if(d=b.cache.get(e))return d;f||(c=q(e).toString().replace(m,""))}else if(!f){if(!e)throw Error("Internal EJS error: no file name or template provided");c=q(e).toString().replace(m,"")}return d=b.compile(c,a),a.cache&&b.cache.set(e,d),d}function q(a){return b.fileLoader(a)}function r(a,b,c,d,e){var f=b.split("\n"),g=Math.max(d-3,0),h=Math.min(f.length,d+3),i=e(c),j=f.slice(g,h).map(function(a,b){var c=b+g+1;return(c==d?" >> ":"    ")+c+"| "+a}).join("\n");throw a.path=i,a.message=(i||"ejs")+":"+d+"\n"+j+"\n\n"+a.message,a}function s(a){return a.replace(/;(\s*$)/,"$1")}function t(a,c){c=c||f.createNullProtoObjWherePossible();var d=f.createNullProtoObjWherePossible();this.templateText=a,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",d.client=c.client||!1,d.escapeFunction=c.escape||c.escapeFunction||f.escapeXML,d.compileDebug=!1!==c.compileDebug,d.debug=!!c.debug,d.filename=c.filename,d.openDelimiter=c.openDelimiter||b.openDelimiter||"<",d.closeDelimiter=c.closeDelimiter||b.closeDelimiter||">",d.delimiter=c.delimiter||b.delimiter||"%",d.strict=c.strict||!1,d.context=c.context,d.cache=c.cache||!1,d.rmWhitespace=c.rmWhitespace,d.root=c.root,d.includer=c.includer,d.outputFunctionName=c.outputFunctionName,d.localsName=c.localsName||b.localsName||i,d.views=c.views,d.async=c.async,d.destructuredLocals=c.destructuredLocals,d.legacyInclude=void 0===c.legacyInclude||!!c.legacyInclude,d.strict?d._with=!1:d._with=void 0===c._with||c._with,this.opts=d,this.regex=this.createRegex()}b.cache=f.cache,b.fileLoader=d.readFileSync,b.localsName=i,b.promiseImpl=Function("return this;")().Promise,b.resolveInclude=function(a,b,c){var d=e.dirname,f=e.extname,g=e.resolve,h=g(c?b:d(b),a),i=f(a);return i||(h+=".ejs"),h},b.compile=function(a,b){var c;return b&&b.scope&&(g||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),g=!0),b.context||(b.context=b.scope),delete b.scope),new t(a,b).compile()},b.render=function(a,b,c){var d=b||f.createNullProtoObjWherePossible(),e=c||f.createNullProtoObjWherePossible();return 2==arguments.length&&f.shallowCopyFromList(e,d,k),p(e,a)(d)},b.renderFile=function(){var a,c,d,e=Array.prototype.slice.call(arguments),g=e.shift(),h={filename:g};return"function"==typeof arguments[arguments.length-1]&&(a=e.pop()),e.length?(c=e.shift(),e.length?f.shallowCopy(h,e.pop()):(c.settings&&(c.settings.views&&(h.views=c.settings.views),c.settings["view cache"]&&(h.cache=!0),(d=c.settings["view options"])&&f.shallowCopy(h,d)),f.shallowCopyFromList(h,c,l)),h.filename=g):c=f.createNullProtoObjWherePossible(),function(a,c,d){var e;if(d){try{e=p(a)(c)}catch(f){return d(f)}d(null,e)}else{if("function"==typeof b.promiseImpl)return new b.promiseImpl(function(b,d){try{e=p(a)(c),b(e)}catch(f){d(f)}});throw Error("Please provide a callback function")}}(h,c,a)},b.Template=t,b.clearCache=function(){b.cache.reset()},t.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},t.prototype={createRegex:function(){var a=j,b=f.escapeRegExpChars(this.opts.delimiter),c=f.escapeRegExpChars(this.opts.openDelimiter),d=f.escapeRegExpChars(this.opts.closeDelimiter);return a=a.replace(/%/g,b).replace(/</g,c).replace(/>/g,d),RegExp(a)},compile:function(){var a,c,g,h=this.opts,i="",j="",k=h.escapeFunction,l=h.filename?JSON.stringify(h.filename):"undefined";if(!this.source){if(this.generateSource(),i+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',h.outputFunctionName){if(!n.test(h.outputFunctionName))throw Error("outputFunctionName is not a valid JS identifier.");i+="  var "+h.outputFunctionName+" = __append;\n"}if(h.localsName&&!n.test(h.localsName))throw Error("localsName is not a valid JS identifier.");if(h.destructuredLocals&&h.destructuredLocals.length){for(var m="  var __locals = ("+h.localsName+" || {}),\n",q=0;q<h.destructuredLocals.length;q++){var s=h.destructuredLocals[q];if(!n.test(s))throw Error("destructuredLocals["+q+"] is not a valid JS identifier.");q>0&&(m+=",\n  "),m+=s+" = __locals."+s}i+=m+";\n"}!1!==h._with&&(i+="  with ("+h.localsName+" || {}) {\n",j+="  }\n"),j+="  return __output;\n",this.source=i+this.source+j}a=h.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+l+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,h.client&&(a="escapeFn = escapeFn || "+k.toString()+";\n"+a,h.compileDebug&&(a="rethrow = rethrow || "+r.toString()+";\n"+a)),h.strict&&(a='"use strict";\n'+a),h.debug&&console.log(a),h.compileDebug&&h.filename&&(a=a+"\n//# sourceURL="+l+"\n");try{if(h.async)try{g=Function("return (async function(){}).constructor;")()}catch(t){if(t instanceof SyntaxError)throw Error("This environment does not support async/await");throw t}else g=Function;c=new g(h.localsName+", escapeFn, include, rethrow",a)}catch(u){throw u instanceof SyntaxError&&(h.filename&&(u.message+=" in "+h.filename),u.message+=" while compiling ejs\n\n",u.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",u.message+="https://github.com/RyanZim/EJS-Lint",h.async||(u.message+="\n",u.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),u}var v=h.client?c:function(a){var e=function(c,e){var g=f.shallowCopy(f.createNullProtoObjWherePossible(),a);return e&&(g=f.shallowCopy(g,e)),(function(a,c){var e=f.shallowCopy(f.createNullProtoObjWherePossible(),c);if(e.filename=function(a,c){var e,f,g=c.views,h=/^[A-Za-z]+:\\|^\//.exec(a);if(h&&h.length)a=a.replace(/^\/*/,""),e=Array.isArray(c.root)?o(a,c.root):b.resolveInclude(a,c.root||"/",!0);else if(c.filename&&(f=b.resolveInclude(a,c.filename),d.existsSync(f)&&(e=f)),!e&&Array.isArray(g)&&(e=o(a,g)),!e&&"function"!=typeof c.includer)throw Error('Could not find the include file "'+c.escapeFunction(a)+'"');return e}(a,e),"function"==typeof c.includer){var g=c.includer(a,e.filename);if(g&&(g.filename&&(e.filename=g.filename),g.template))return p(e,g.template)}return p(e)})(c,h)(g)};return c.apply(h.context,[a||f.createNullProtoObjWherePossible(),k,e,r])};if(h.filename&&"function"==typeof Object.defineProperty){var w=h.filename,x=e.basename(w,e.extname(w));try{Object.defineProperty(v,"name",{value:x,writable:!1,enumerable:!1,configurable:!0})}catch(y){}}return v},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var a=this,b=this.parseTemplateText(),c=this.opts.delimiter,d=this.opts.openDelimiter,e=this.opts.closeDelimiter;b&&b.length&&b.forEach(function(f,g){var h;if(0===f.indexOf(d+c)&&0!==f.indexOf(d+c+c)&&!((h=b[g+2])==c+e||h=="-"+c+e||h=="_"+c+e))throw Error('Could not find matching close tag for "'+f+'".');a.scanLine(f)})},parseTemplateText:function(){for(var a,b=this.templateText,c=this.regex,d=c.exec(b),e=[];d;)0!==(a=d.index)&&(e.push(b.substring(0,a)),b=b.slice(a)),e.push(d[0]),b=b.slice(d[0].length),d=c.exec(b);return b&&e.push(b),e},_addOutput:function(a){if(this.truncate&&(a=a.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!a)return a;a=(a=(a=(a=a.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+a+'")\n'},scanLine:function(a){var b=this.opts.delimiter,c=this.opts.openDelimiter,d=this.opts.closeDelimiter,e=0;switch(e=a.split("\n").length-1,a){case c+b:case c+b+"_":this.mode=t.modes.EVAL;break;case c+b+"=":this.mode=t.modes.ESCAPED;break;case c+b+"-":this.mode=t.modes.RAW;break;case c+b+"#":this.mode=t.modes.COMMENT;break;case c+b+b:this.mode=t.modes.LITERAL,this.source+='    ; __append("'+a.replace(c+b+b,c+b)+'")\n';break;case b+b+d:this.mode=t.modes.LITERAL,this.source+='    ; __append("'+a.replace(b+b+d,b+d)+'")\n';break;case b+d:case"-"+b+d:case"_"+b+d:this.mode==t.modes.LITERAL&&this._addOutput(a),this.mode=null,this.truncate=0===a.indexOf("-")||0===a.indexOf("_");break;default:if(this.mode){switch(this.mode){case t.modes.EVAL:case t.modes.ESCAPED:case t.modes.RAW:a.lastIndexOf("//")>a.lastIndexOf("\n")&&(a+="\n")}switch(this.mode){case t.modes.EVAL:this.source+="    ; "+a+"\n";break;case t.modes.ESCAPED:this.source+="    ; __append(escapeFn("+s(a)+"))\n";break;case t.modes.RAW:this.source+="    ; __append("+s(a)+")\n";break;case t.modes.COMMENT:break;case t.modes.LITERAL:this._addOutput(a)}}else this._addOutput(a)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},b.escapeXML=f.escapeXML,b.__express=b.renderFile,b.VERSION=h,b.name="ejs","undefined"!=typeof window&&(window.ejs=b)},1176:function(a,b){"use strict";var c=/[|\\{}()[\]^$+*?.]/g,d=Object.prototype.hasOwnProperty,e=function(a,b){return d.apply(a,[b])};b.escapeRegExpChars=function(a){return a?String(a).replace(c,"\\$&"):""};var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},g=/[&<>'"]/g;function h(a){return f[a]||a}b.escapeXML=function(a){return void 0==a?"":String(a).replace(g,h)},b.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},b.shallowCopy=function(a,b){if(b=b||{},null!=a)for(var c in b)e(b,c)&&"__proto__"!==c&&"constructor"!==c&&(a[c]=b[c]);return a},b.shallowCopyFromList=function(a,b,c){if(c=c||[],b=b||{},null!=a)for(var d=0;d<c.length;d++){var f=c[d];if(void 0!==b[f]){if(!e(b,f)||"__proto__"===f||"constructor"===f)continue;a[f]=b[f]}}return a},b.cache={_data:{},set:function(a,b){this._data[a]=b},get:function(a){return this._data[a]},remove:function(a){delete this._data[a]},reset:function(){this._data={}}},b.hyphenToCamel=function(a){return a.replace(/-[a-z]/g,function(a){return a[1].toUpperCase()})},b.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:function(){return{}}},1864:function(a){!function(){"use strict";var b={113:function(a){function b(a){if("string"!=typeof a)throw TypeError("Path must be a string. Received "+JSON.stringify(a))}function c(a,b){for(var c,d="",e=0,f=-1,g=0,h=0;h<=a.length;++h){if(h<a.length)c=a.charCodeAt(h);else if(47===c)break;else c=47;if(47===c){if(f===h-1||1===g);else if(f!==h-1&&2===g){if(d.length<2||2!==e||46!==d.charCodeAt(d.length-1)||46!==d.charCodeAt(d.length-2)){if(d.length>2){var i=d.lastIndexOf("/");if(i!==d.length-1){-1===i?(d="",e=0):e=(d=d.slice(0,i)).length-1-d.lastIndexOf("/"),f=h,g=0;continue}}else if(2===d.length||1===d.length){d="",e=0,f=h,g=0;continue}}b&&(d.length>0?d+="/..":d="..",e=2)}else d.length>0?d+="/"+a.slice(f+1,h):d=a.slice(f+1,h),e=h-f-1;f=h,g=0}else 46===c&& -1!==g?++g:g=-1}return d}var d={resolve:function(){for(var a,d,e="",f=!1,g=arguments.length-1;g>= -1&&!f;g--)g>=0?d=arguments[g]:(void 0===a&&(a=""),d=a),b(d),0!==d.length&&(e=d+"/"+e,f=47===d.charCodeAt(0));return(e=c(e,!f),f)?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(a){if(b(a),0===a.length)return".";var d=47===a.charCodeAt(0),e=47===a.charCodeAt(a.length-1);return(0!==(a=c(a,!d)).length||d||(a="."),a.length>0&&e&&(a+="/"),d)?"/"+a:a},isAbsolute:function(a){return b(a),a.length>0&&47===a.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var a,c=0;c<arguments.length;++c){var e=arguments[c];b(e),e.length>0&&(void 0===a?a=e:a+="/"+e)}return void 0===a?".":d.normalize(a)},relative:function(a,c){if(b(a),b(c),a===c||(a=d.resolve(a),c=d.resolve(c),a===c))return"";for(var e=1;e<a.length&&47===a.charCodeAt(e);++e);for(var f=a.length,g=f-e,h=1;h<c.length&&47===c.charCodeAt(h);++h);for(var i=c.length-h,j=g<i?g:i,k=-1,l=0;l<=j;++l){if(l===j){if(i>j){if(47===c.charCodeAt(h+l))return c.slice(h+l+1);if(0===l)return c.slice(h+l)}else g>j&&(47===a.charCodeAt(e+l)?k=l:0===l&&(k=0));break}var m=a.charCodeAt(e+l);if(m!==c.charCodeAt(h+l))break;47===m&&(k=l)}var n="";for(l=e+k+1;l<=f;++l)(l===f||47===a.charCodeAt(l))&&(0===n.length?n+="..":n+="/..");return n.length>0?n+c.slice(h+k):(h+=k,47===c.charCodeAt(h)&& ++h,c.slice(h))},_makeLong:function(a){return a},dirname:function(a){if(b(a),0===a.length)return".";for(var c=a.charCodeAt(0),d=47===c,e=-1,f=!0,g=a.length-1;g>=1;--g)if(47===(c=a.charCodeAt(g))){if(!f){e=g;break}}else f=!1;return -1===e?d?"/":".":d&&1===e?"//":a.slice(0,e)},basename:function(a,c){if(void 0!==c&&"string"!=typeof c)throw TypeError('"ext" argument must be a string');b(a);var d,e=0,f=-1,g=!0;if(void 0!==c&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var h=c.length-1,i=-1;for(d=a.length-1;d>=0;--d){var j=a.charCodeAt(d);if(47===j){if(!g){e=d+1;break}}else -1===i&&(g=!1,i=d+1),h>=0&&(j===c.charCodeAt(h)?-1== --h&&(f=d):(h=-1,f=i))}return e===f?f=i:-1===f&&(f=a.length),a.slice(e,f)}for(d=a.length-1;d>=0;--d)if(47===a.charCodeAt(d)){if(!g){e=d+1;break}}else -1===f&&(g=!1,f=d+1);return -1===f?"":a.slice(e,f)},extname:function(a){b(a);for(var c=-1,d=0,e=-1,f=!0,g=0,h=a.length-1;h>=0;--h){var i=a.charCodeAt(h);if(47===i){if(!f){d=h+1;break}continue}-1===e&&(f=!1,e=h+1),46===i?-1===c?c=h:1!==g&&(g=1):-1!==c&&(g=-1)}return -1===c|| -1===e||0===g||1===g&&c===e-1&&c===d+1?"":a.slice(c,e)},format:function(a){var b,c,d,e;if(null===a||"object"!=typeof a)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return d=(c=a).dir||c.root,e=c.base||(c.name||"")+(c.ext||""),d?d===c.root?d+e:d+"/"+e:e},parse:function(a){b(a);var c,d={root:"",dir:"",base:"",ext:"",name:""};if(0===a.length)return d;var e=a.charCodeAt(0),f=47===e;f?(d.root="/",c=1):c=0;for(var g=-1,h=0,i=-1,j=!0,k=a.length-1,l=0;k>=c;--k){if(47===(e=a.charCodeAt(k))){if(!j){h=k+1;break}continue}-1===i&&(j=!1,i=k+1),46===e?-1===g?g=k:1!==l&&(l=1):-1!==g&&(l=-1)}return -1===g|| -1===i||0===l||1===l&&g===i-1&&g===h+1?-1!==i&&(0===h&&f?d.base=d.name=a.slice(1,i):d.base=d.name=a.slice(h,i)):(0===h&&f?(d.name=a.slice(1,g),d.base=a.slice(1,i)):(d.name=a.slice(h,g),d.base=a.slice(h,i)),d.ext=a.slice(g,i)),h>0?d.dir=a.slice(0,h-1):f&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null};d.posix=d,a.exports=d}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e=d(113);a.exports=e}()},5438:function(a){"use strict";class b{constructor(a){let c=new class{constructor(a){this.length=a||0,this.arr=Array(262144);for(let b=0;b<a;b+=262144)this.arr[b/262144]=Array(Math.min(262144,a-b));return this}push(){for(let a=0;a<arguments.length;a++)this.setElement(this.length,arguments[a])}slice(a,b){let c=Array(b-a);for(let d=a;d<b;d++)c[d-a]=this.getElement(d);return c}getElement(a){a=parseInt(a);let b=Math.floor(a/262144),c=a%262144;return this.arr[b]?this.arr[b][c]:void 0}setElement(a,b){a=parseInt(a);let c=Math.floor(a/262144);this.arr[c]||(this.arr[c]=Array(262144));let d=a%262144;return this.arr[c][d]=b,a>=this.length&&(this.length=a+1),!0}getKeys(){let a=new b;for(let c=0;c<this.arr.length;c++)if(this.arr[c])for(let d=0;d<this.arr[c].length;d++)void 0!==this.arr[c][d]&&a.push(262144*c+d);return a}}(a),d=new Proxy(c,{get:function(a,b){return isNaN(b)?a[b]:a.getElement(b)},set:function(a,b,c){return isNaN(b)?(a[b]=c,!0):a.setElement(b,c)}});return d}}a.exports=b},2223:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d,e=c(496),f=function(a){if(a&&a.__esModule)return a;var b=Object.create(null);return a&&Object.keys(a).forEach(function(c){if("default"!==c){var d=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(b,c,d.get?d:{enumerable:!0,get:function(){return a[c]}})}}),b.default=a,Object.freeze(b)}(c(2297));async function g(a,b,c,d,e){let g=await f.readExisting(a,d,e),h=await g.read(4),i="";for(let j=0;j<4;j++)i+=String.fromCharCode(h[j]);if(i!=b)throw Error(a+": Invalid File format");if(await g.readULE32()>c)throw Error("Version not supported");let k=await g.readULE32(),l=[];for(let m=0;m<k;m++){let n=await g.readULE32(),o=await g.readULE64();void 0===l[n]&&(l[n]=[]),l[n].push({p:g.pos,size:o}),g.pos+=o}return{fd:g,sections:l}}async function h(a,b,c,d,e,g){let h=await f.createOverride(a,e,g),i=new Uint8Array(4);for(let j=0;j<4;j++)i[j]=b.charCodeAt(j);return await h.write(i,0),await h.writeULE32(c),await h.writeULE32(d),h}async function i(a,b){if(void 0!==a.writingSection)throw Error("Already writing a section");await a.writeULE32(b),a.writingSection={pSectionSize:a.pos},await a.writeULE64(0)}async function j(a){if(void 0===a.writingSection)throw Error("Not writing a section");let b=a.pos-a.writingSection.pSectionSize-8,c=a.pos;a.pos=a.writingSection.pSectionSize,await a.writeULE64(b),a.pos=c,delete a.writingSection}async function k(a,b,c){if(void 0!==a.readingSection)throw Error("Already reading a section");if(!b[c])throw Error(a.fileName+": Missing section "+c);if(b[c].length>1)throw Error(a.fileName+": Section Duplicated "+c);a.pos=b[c][0].p,a.readingSection=b[c][0]}async function l(a,b){if(void 0===a.readingSection)throw Error("Not reading a section");if(!b&&a.pos-a.readingSection.p!=a.readingSection.size)throw Error("Invalid section size reading");delete a.readingSection}async function m(a,b,c,d){let f=new Uint8Array(c);e.Scalar.toRprLE(f,0,b,c),await a.write(f,d)}async function n(a,b,c){let d=await a.read(b,c);return e.Scalar.fromRprLE(d,0,b)}async function o(a,b,c,d,e){void 0===e&&(e=b[d][0].size);let f=a.pageSize;await k(a,b,d),await i(c,d);for(let g=0;g<e;g+=f){let h=Math.min(e-g,f),m=await a.read(h);await c.write(m)}await j(c),await l(a,e!=b[d][0].size)}async function p(a,b,c,d,f){if(d=void 0===d?0:d,f=void 0===f?b[c][0].size-d:f,d+f>b[c][0].size)throw Error("Reading out of the range of the section");let g;return g=f<1073741824?new Uint8Array(f):new e.BigBuffer(f),await a.readToBuffer(g,0,f,b[c][0].p+d),g}async function q(a,b,c,d,e){let f=16*a.pageSize;if(await k(a,b,e),await k(c,d,e),b[e][0].size!=d[e][0].size)return!1;let g=b[e][0].size;for(let h=0;h<g;h+=f){let i=Math.min(g-h,f),j=await a.read(i),m=await c.read(i);for(let n=0;n<i;n++)if(j[n]!=m[n])return!1}return await l(a),await l(c),!0}b.copySection=o,b.createBinFile=h,b.endReadSection=l,b.endWriteSection=j,b.readBigInt=n,b.readBinFile=g,b.readSection=p,b.sectionIsEqual=q,b.startReadUniqueSection=k,b.startWriteSection=i,b.writeBigInt=m},5131:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(496);function e(a){var b=[];return c(b,a),b;function c(a,b){if(Array.isArray(b))for(let d=0;d<b.length;d++)c(a,b[d]);else a.push(b)}}function f(a){let b=BigInt(2)**BigInt(64),c=BigInt("0xCBF29CE484222325");for(var d=0;d<a.length;d++)c^=BigInt(a[d].charCodeAt()),c*=BigInt(1099511628211),c%=b;let e=c.toString(16),f=16-e.length;return"0".repeat(f).concat(e)}function g(a,b){let c=[],d=BigInt(a),e=BigInt(4294967296);for(;d;)c.unshift(Number(d%e)),d/=e;if(b)for(var f=b-c.length;f>0;)c.unshift(0),f--;return c}async function h(a,b){b=b||{};let c=32767,e,f=!1;for(;!f;)try{e=new WebAssembly.Memory({initial:c}),f=!0}catch(g){if(1===c)throw g;console.warn("Could not allocate "+65536*c+" bytes. This may cause severe instability. Trying with "+65536*c/2+" bytes"),c=Math.floor(c/2)}let h=await WebAssembly.compile(a),k,l=await WebAssembly.instantiate(h,{env:{memory:e},runtime:{exceptionHandler:function(a){let b;throw b=1==a?"Signal not found. ":2==a?"Too many signals set. ":3==a?"Signal already set. ":4==a?"Assert Failed. ":5==a?"Not enough memory. ":6==a?"Input signal array access exceeds the size":"Unknown error.",console.log("ERROR: ",a,b),Error(b)},showSharedRWMemory:function(){let a=l.exports.getFieldNumLen32(),b=new Uint32Array(a);for(let c=0;c<a;c++)b[a-1-c]=l.exports.readSharedRWMemory(c);console.log(d.Scalar.fromArray(b,4294967296))},error:function(a,c,d,e,f,g){let h;throw h=7==a?n(c)+" "+k.getFr(e).toString()+" != "+k.getFr(f).toString()+" "+n(g):9==a?n(c)+" "+k.getFr(e).toString()+" "+n(f):5==a&&b.sym?n(c)+" "+b.sym.labelIdx2Name[f]:n(c)+" "+d+" "+e+" "+f+" "+g,console.log("ERROR: ",a,h),Error(h)},log:function(a){console.log(k.getFr(a).toString())},logGetSignal:function(a,c){b.logGetSignal&&b.logGetSignal(a,k.getFr(c))},logSetSignal:function(a,c){b.logSetSignal&&b.logSetSignal(a,k.getFr(c))},logStartComponent:function(a){b.logStartComponent&&b.logStartComponent(a)},logFinishComponent:function(a){b.logFinishComponent&&b.logFinishComponent(a)}}}),m=b&&(b.sanityCheck||b.logGetSignal||b.logSetSignal||b.logStartComponent||b.logFinishComponent);return k="function"==typeof l.exports.getVersion?new j(l,m):new i(e,l,m);function n(a){let b=new Uint8Array(e.buffer),c=[];for(let d=0;b[a+d]>0;d++)c.push(b[a+d]);return String.fromCharCode.apply(null,c)}}class i{constructor(a,b,c){this.memory=a,this.i32=new Uint32Array(a.buffer),this.instance=b,this.n32=(this.instance.exports.getFrLen()>>2)-2;let e=this.instance.exports.getPRawPrime(),f=Array(this.n32);for(let g=0;g<this.n32;g++)f[this.n32-1-g]=this.i32[(e>>2)+g];this.prime=d.Scalar.fromArray(f,4294967296),this.Fr=new d.F1Field(this.prime),this.mask32=d.Scalar.fromString("FFFFFFFF",16),this.NVars=this.instance.exports.getNVars(),this.n64=Math.floor((this.Fr.bitLength-1)/64)+1,this.R=this.Fr.e(d.Scalar.shiftLeft(1,64*this.n64)),this.RInv=this.Fr.inv(this.R),this.sanityCheck=c}circom_version(){return 1}async _doCalculateWitness(a,b){this.instance.exports.init(this.sanityCheck||b?1:0);let c=this.allocInt(),d=this.allocFr(),g=Object.keys(a);g.forEach(b=>{let g=f(b),h=parseInt(g.slice(0,8),16),i=parseInt(g.slice(8,16),16);try{this.instance.exports.getSignalOffset32(c,0,h,i)}catch(j){throw Error(`Signal ${b} is not an input of the circuit.`)}let k=this.getInt(c),l=e(a[b]);for(let m=0;m<l.length;m++)this.setFr(d,l[m]),this.instance.exports.setSignal(0,0,k+m,d)})}async calculateWitness(a,b){let c=this,d=c.i32[0],e=[];await c._doCalculateWitness(a,b);for(let f=0;f<c.NVars;f++){let g=c.instance.exports.getPWitness(f);e.push(c.getFr(g))}return c.i32[0]=d,e}async calculateBinWitness(a,b){let c=this,d=c.i32[0];await c._doCalculateWitness(a,b);let e=c.instance.exports.getWitnessBuffer();c.i32[0]=d;let f=c.memory.buffer.slice(e,e+c.NVars*c.n64*8);return new Uint8Array(f)}allocInt(){let a=this.i32[0];return this.i32[0]=a+8,a}allocFr(){let a=this.i32[0];return this.i32[0]=a+4*this.n32+8,a}getInt(a){return this.i32[a>>2]}setInt(a,b){this.i32[a>>2]=b}getFr(a){let b=this,c=a>>2;if(2147483648&b.i32[c+1]){var e;let f=Array(b.n32);for(let g=0;g<b.n32;g++)f[b.n32-1-g]=b.i32[c+2+g];let h=b.Fr.e(d.Scalar.fromArray(f,4294967296));return 1073741824&b.i32[c+1]?(e=h,b.Fr.mul(b.RInv,e)):h}return 2147483648&b.i32[c]?b.Fr.e(b.i32[c]-4294967296):b.Fr.e(b.i32[c])}setFr(a,b){let c=this;b=c.Fr.e(b);let e=c.Fr.neg(c.Fr.e("80000000",16)),f=c.Fr.e("7FFFFFFF",16);if(c.Fr.geq(b,e)&&c.Fr.leq(b,f)){let g;c.Fr.geq(b,c.Fr.zero)?g=d.Scalar.toNumber(b):(g=d.Scalar.toNumber(c.Fr.sub(b,e)),g-=2147483648,g=4294967296+g),c.i32[a>>2]=g,c.i32[(a>>2)+1]=0;return}c.i32[a>>2]=0,c.i32[(a>>2)+1]=2147483648;let h=d.Scalar.toArray(b,4294967296);for(let i=0;i<c.n32;i++){let j=h.length-1-i;j>=0?c.i32[(a>>2)+2+i]=h[j]:c.i32[(a>>2)+2+i]=0}}}class j{constructor(a,b){this.instance=a,this.version=this.instance.exports.getVersion(),this.n32=this.instance.exports.getFieldNumLen32(),this.instance.exports.getRawPrime();let c=Array(this.n32);for(let e=0;e<this.n32;e++)c[this.n32-1-e]=this.instance.exports.readSharedRWMemory(e);this.prime=d.Scalar.fromArray(c,4294967296),this.witnessSize=this.instance.exports.getWitnessSize(),this.sanityCheck=b}circom_version(){return this.instance.exports.getVersion()}async _doCalculateWitness(a,b){this.instance.exports.init(this.sanityCheck||b?1:0);let c=Object.keys(a);var d=0;if(c.forEach(b=>{let c=f(b),h=parseInt(c.slice(0,8),16),i=parseInt(c.slice(8,16),16),j=e(a[b]);for(let k=0;k<j.length;k++){let l=g(j[k],this.n32);for(let m=0;m<this.n32;m++)this.instance.exports.writeSharedRWMemory(m,l[this.n32-1-m]);try{this.instance.exports.setInputSignal(h,i,k),d++}catch(n){throw Error(n)}}}),d<this.instance.exports.getInputSize())throw Error(`Not all inputs have been set. Only ${d} out of ${this.instance.exports.getInputSize()}`)}async calculateWitness(a,b){let c=[];await this._doCalculateWitness(a,b);for(let e=0;e<this.witnessSize;e++){this.instance.exports.getWitness(e);let f=new Uint32Array(this.n32);for(let g=0;g<this.n32;g++)f[this.n32-1-g]=this.instance.exports.readSharedRWMemory(g);c.push(d.Scalar.fromArray(f,4294967296))}return c}async calculateWTNSBin(a,b){let c=new Uint32Array(this.witnessSize*this.n32+this.n32+11),d=new Uint8Array(c.buffer);await this._doCalculateWitness(a,b),d[0]=119,d[1]=116,d[2]=110,d[3]=115,c[1]=2,c[2]=2,c[3]=1;let e=4*this.n32,f=(8+e).toString(16);c[4]=parseInt(f.slice(0,8),16),c[5]=parseInt(f.slice(8,16),16),c[6]=e,this.instance.exports.getRawPrime();var g=7;for(let h=0;h<this.n32;h++)c[g+h]=this.instance.exports.readSharedRWMemory(h);c[g+=this.n32]=this.witnessSize,c[++g]=2,g++;let i=e*this.witnessSize,j=i.toString(16);c[g]=parseInt(j.slice(0,8),16),c[g+1]=parseInt(j.slice(8,16),16),g+=2;for(let k=0;k<this.witnessSize;k++){this.instance.exports.getWitness(k);for(let l=0;l<this.n32;l++)c[g+l]=this.instance.exports.readSharedRWMemory(l);g+=this.n32}return d}}b.WitnessCalculatorBuilder=h},2297:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d,e=(d=c(5979))&&"object"==typeof d&&"default"in d?d.default:d,f=c(2454);async function g(a,b,c,d){if(c=c||262144,"number"!=typeof b&&0>["w+","wx+","r","ax+","a+"].indexOf(b))throw Error("Invalid open option");let f=await e.promises.open(a,b),g=await f.stat();return new h(f,g,c,d,a)}class h{constructor(a,b,c,d,e){for(this.fileName=e,this.fd=a,this.pos=0,this.pageSize=d||256;this.pageSize<b.blksize;)this.pageSize*=2;this.totalSize=b.size,this.totalPages=Math.floor((b.size-1)/this.pageSize)+1,this.maxPagesLoaded=Math.floor(c/this.pageSize)+1,this.pages={},this.pendingLoads=[],this.writing=!1,this.reading=!1,this.avBuffs=[],this.history={}}_loadPage(a){let b=this,c=new Promise((c,d)=>{b.pendingLoads.push({page:a,resolve:c,reject:d})});return b.__statusPage("After Load request: ",a),c}__statusPage(a,b){let c=[],d=this;if(!d.logHistory)return;c.push("=="+a+" "+b);let e="";for(let f=0;f<d.pendingLoads.length;f++)d.pendingLoads[f].page==b&&(e=e+" "+f);if(e&&c.push("Pending loads:"+e),void 0!==d.pages[b]){let g=d.pages[b];c.push("Loaded"),c.push("pendingOps: "+g.pendingOps),g.loading&&c.push("loading: "+g.loading),g.writing&&c.push("writing"),g.dirty&&c.push("dirty")}c.push("=="),d.history[b]||(d.history[b]=[]),d.history[b].push(c)}__printHistory(a){this.history[a]||console.log("Empty History ",a),console.log("History "+a);for(let b=0;b<this.history[a].length;b++)for(let c=0;c<this.history[a][b].length;c++)console.log("-> "+this.history[a][b][c])}_triggerLoad(){let a=this;if(a.reading||0==a.pendingLoads.length)return;let b=Object.keys(a.pages),c=[];for(let d=0;d<b.length;d++){let e=a.pages[parseInt(b[d])];!1!=e.dirty||0!=e.pendingOps||e.writing||e.loading||c.push(parseInt(b[d]))}let f=a.maxPagesLoaded-b.length,g=[];for(;a.pendingLoads.length>0&&(void 0!==a.pages[a.pendingLoads[0].page]||f>0||c.length>0);){let h=a.pendingLoads.shift();if(void 0!==a.pages[h.page]){a.pages[h.page].pendingOps++;let i=c.indexOf(h.page);i>=0&&c.splice(i,1),a.pages[h.page].loading?a.pages[h.page].loading.push(h):h.resolve(),a.__statusPage("After Load (cached): ",h.page)}else{if(f)f--;else{let j=c.shift();a.__statusPage("Before Unload: ",j),a.avBuffs.unshift(a.pages[j]),delete a.pages[j],a.__statusPage("After Unload: ",j)}h.page>=a.totalPages?(a.pages[h.page]=k(),h.resolve(),a.__statusPage("After Load (new): ",h.page)):(a.reading=!0,a.pages[h.page]=k(),a.pages[h.page].loading=[h],g.push(a.fd.read(a.pages[h.page].buff,0,a.pageSize,h.page*a.pageSize).then(b=>{a.pages[h.page].size=b.bytesRead;let c=a.pages[h.page].loading;delete a.pages[h.page].loading;for(let d=0;d<c.length;d++)c[d].resolve();return a.__statusPage("After Load (loaded): ",h.page),b},a=>{h.reject(a)})),a.__statusPage("After Load (loading): ",h.page))}}function k(){if(!(a.avBuffs.length>0))return{dirty:!1,buff:new Uint8Array(a.pageSize),pendingOps:1,size:0};{let b=a.avBuffs.shift();return b.dirty=!1,b.pendingOps=1,b.size=0,b}}Promise.all(g).then(()=>{a.reading=!1,a.pendingLoads.length>0&&setImmediate(a._triggerLoad.bind(a)),a._tryClose()})}_triggerWrite(){let a=this;if(a.writing)return;let b=Object.keys(a.pages),c=[];for(let d=0;d<b.length;d++){let e=a.pages[parseInt(b[d])];e.dirty&&(e.dirty=!1,e.writing=!0,a.writing=!0,c.push(a.fd.write(e.buff,0,e.size,parseInt(b[d])*a.pageSize).then(()=>{e.writing=!1},b=>{console.log("ERROR Writing: "+b),a.error=b,a._tryClose()})))}a.writing&&Promise.all(c).then(()=>{a.writing=!1,setImmediate(a._triggerWrite.bind(a)),a._tryClose(),a.pendingLoads.length>0&&setImmediate(a._triggerLoad.bind(a))})}_getDirtyPage(){for(let a in this.pages)if(this.pages[a].dirty)return a;return -1}async write(a,b){if(0==a.byteLength)return;let c=this;if(void 0===b&&(b=c.pos),c.pos=b+a.byteLength,c.totalSize<b+a.byteLength&&(c.totalSize=b+a.byteLength),c.pendingClose)throw Error("Writing a closing file");let d=Math.floor(b/c.pageSize),e=Math.floor((b+a.byteLength-1)/c.pageSize),f=[];for(let g=d;g<=e;g++)f.push(c._loadPage(g));c._triggerLoad();let h=d,i=b%c.pageSize,j=a.byteLength;for(;j>0;){await f[h-d];let k=i+j>c.pageSize?c.pageSize-i:j,l=a.slice(a.byteLength-j,a.byteLength-j+k),m=new Uint8Array(c.pages[h].buff.buffer,i,k);m.set(l),c.pages[h].dirty=!0,c.pages[h].pendingOps--,c.pages[h].size=Math.max(i+k,c.pages[h].size),h>=c.totalPages&&(c.totalPages=h+1),j-=k,h++,i=0,c.writing||setImmediate(c._triggerWrite.bind(c))}}async read(a,b){let c=new Uint8Array(a);return await this.readToBuffer(c,0,a,b),c}async readToBuffer(a,b,c,d){if(0==c)return;let e=this;if(c>e.pageSize*e.maxPagesLoaded*.8){let f=Math.floor(1.1*c);this.maxPagesLoaded=Math.floor(f/e.pageSize)+1}if(void 0===d&&(d=e.pos),e.pos=d+c,e.pendingClose)throw Error("Reading a closing file");let g=Math.floor(d/e.pageSize),h=Math.floor((d+c-1)/e.pageSize),i=[];for(let j=g;j<=h;j++)i.push(e._loadPage(j));e._triggerLoad();let k=g,l=d%e.pageSize,m=d+c>e.totalSize?c-(d+c-e.totalSize):c;for(;m>0;){await i[k-g],e.__statusPage("After Await (read): ",k);let n=l+m>e.pageSize?e.pageSize-l:m,o=new Uint8Array(e.pages[k].buff.buffer,e.pages[k].buff.byteOffset+l,n);a.set(o,b+c-m),e.pages[k].pendingOps--,e.__statusPage("After Op done: ",k),m-=n,k++,l=0,e.pendingLoads.length>0&&setImmediate(e._triggerLoad.bind(e))}this.pos=d+c}_tryClose(){if(!this.pendingClose)return;this.error&&this.pendingCloseReject(this.error);let a=this._getDirtyPage();a>=0||this.writing||this.reading||this.pendingLoads.length>0||this.pendingClose()}close(){let a=this;if(a.pendingClose)throw Error("Closing the file twice");return new Promise((b,c)=>{a.pendingClose=b,a.pendingCloseReject=c,a._tryClose()}).then(()=>{a.fd.close()},b=>{throw a.fd.close(),b})}async discard(){await this.close(),await e.promises.unlink(this.fileName)}async writeULE32(a,b){let c=new Uint8Array(4),d=new DataView(c.buffer);d.setUint32(0,a,!0),await this.write(c,b)}async writeUBE32(a,b){let c=new Uint8Array(4),d=new DataView(c.buffer);d.setUint32(0,a,!1),await this.write(c,b)}async writeULE64(a,b){let c=new Uint8Array(8),d=new DataView(c.buffer);d.setUint32(0,4294967295&a,!0),d.setUint32(4,Math.floor(a/4294967296),!0),await this.write(c,b)}async readULE32(a){let b=await this.read(4,a),c=new Uint32Array(b.buffer);return c[0]}async readUBE32(a){let b=await this.read(4,a),c=new DataView(b.buffer);return c.getUint32(0,!1)}async readULE64(a){let b=await this.read(8,a),c=new Uint32Array(b.buffer);return 4294967296*c[1]+c[0]}async readString(a){let b=this;if(b.pendingClose)throw Error("Reading a closing file");let c=void 0===a?b.pos:a,d=Math.floor(c/b.pageSize),e=!1,f="";for(;!e;){let g=b._loadPage(d);b._triggerLoad(),await g,b.__statusPage("After Await (read): ",d);let h=c%b.pageSize,i=new Uint8Array(b.pages[d].buff.buffer,b.pages[d].buff.byteOffset+h,b.pageSize-h),j=i.findIndex(a=>0===a);(e=-1!==j)?(f+=new TextDecoder().decode(i.slice(0,j)),b.pos=d*this.pageSize+h+j+1):(f+=new TextDecoder().decode(i),b.pos=d*this.pageSize+h+i.length),b.pages[d].pendingOps--,b.__statusPage("After Op done: ",d),c=b.pos,d++,b.pendingLoads.length>0&&setImmediate(b._triggerLoad.bind(b))}return f}}function i(a){let b=a.initialSize||1048576,c=new o;return c.o=a,c.o.data=new Uint8Array(b),c.allocSize=b,c.totalSize=0,c.readOnly=!1,c.pos=0,c}function j(a){let b=new o;return b.o=a,b.allocSize=a.data.byteLength,b.totalSize=a.data.byteLength,b.readOnly=!1,b.pos=0,b}let k=new Uint8Array(4),l=new DataView(k.buffer),m=new Uint8Array(8),n=new DataView(m.buffer);class o{constructor(){this.pageSize=16384}_resizeIfNeeded(a){if(a>this.allocSize){let b=Math.max(this.allocSize+1048576,Math.floor(1.1*this.allocSize),a),c=new Uint8Array(b);c.set(this.o.data),this.o.data=c,this.allocSize=b}}async write(a,b){if(void 0===b&&(b=this.pos),this.readOnly)throw Error("Writing a read only file");this._resizeIfNeeded(b+a.byteLength),this.o.data.set(a.slice(),b),b+a.byteLength>this.totalSize&&(this.totalSize=b+a.byteLength),this.pos=b+a.byteLength}async readToBuffer(a,b,c,d){if(void 0===d&&(d=this.pos),this.readOnly&&d+c>this.totalSize)throw Error("Reading out of bounds");this._resizeIfNeeded(d+c);let e=new Uint8Array(this.o.data.buffer,this.o.data.byteOffset+d,c);a.set(e,b),this.pos=d+c}async read(a,b){let c=new Uint8Array(a);return await this.readToBuffer(c,0,a,b),c}close(){this.o.data.byteLength!=this.totalSize&&(this.o.data=this.o.data.slice(0,this.totalSize))}async discard(){}async writeULE32(a,b){l.setUint32(0,a,!0),await this.write(k,b)}async writeUBE32(a,b){l.setUint32(0,a,!1),await this.write(k,b)}async writeULE64(a,b){n.setUint32(0,4294967295&a,!0),n.setUint32(4,Math.floor(a/4294967296),!0),await this.write(m,b)}async readULE32(a){let b=await this.read(4,a),c=new Uint32Array(b.buffer);return c[0]}async readUBE32(a){let b=await this.read(4,a),c=new DataView(b.buffer);return c.getUint32(0,!1)}async readULE64(a){let b=await this.read(8,a),c=new Uint32Array(b.buffer);return 4294967296*c[1]+c[0]}async readString(a){let b=this,c=void 0===a?b.pos:a;if(c>this.totalSize){if(this.readOnly)throw Error("Reading out of bounds");this._resizeIfNeeded(a)}let d=new Uint8Array(b.o.data.buffer,c,this.totalSize-c),e=d.findIndex(a=>0===a),f="";return -1!==e?(f=new TextDecoder().decode(d.slice(0,e)),b.pos=c+e+1):b.pos=c,f}}let p=4194304;function q(a){let b=a.initialSize||0,c=new w;c.o=a;let d=b?Math.floor((b-1)/p)+1:0;c.o.data=[];for(let e=0;e<d-1;e++)c.o.data.push(new Uint8Array(p));return d&&c.o.data.push(new Uint8Array(b-p*(d-1))),c.totalSize=0,c.readOnly=!1,c.pos=0,c}function r(a){let b=new w;return b.o=a,b.totalSize=(a.data.length-1)*p+a.data[a.data.length-1].byteLength,b.readOnly=!1,b.pos=0,b}let s=new Uint8Array(4),t=new DataView(s.buffer),u=new Uint8Array(8),v=new DataView(u.buffer);class w{constructor(){this.pageSize=16384}_resizeIfNeeded(a){if(a<=this.totalSize)return;if(this.readOnly)throw Error("Reading out of file bounds");let b=Math.floor((a-1)/p)+1;for(let c=Math.max(this.o.data.length-1,0);c<b;c++){let d=c<b-1?p:a-(b-1)*p,e=new Uint8Array(d);c==this.o.data.length-1&&e.set(this.o.data[c]),this.o.data[c]=e}this.totalSize=a}async write(a,b){let c=this;if(void 0===b&&(b=c.pos),this.readOnly)throw Error("Writing a read only file");this._resizeIfNeeded(b+a.byteLength);let d=Math.floor(b/p),e=d,f=b%p,g=a.byteLength;for(;g>0;){let h=f+g>p?p-f:g,i=a.slice(a.byteLength-g,a.byteLength-g+h),j=new Uint8Array(c.o.data[e].buffer,f,h);j.set(i),g-=h,e++,f=0}this.pos=b+a.byteLength}async readToBuffer(a,b,c,d){let e=this;if(void 0===d&&(d=e.pos),this.readOnly&&d+c>this.totalSize)throw Error("Reading out of bounds");this._resizeIfNeeded(d+c);let f=Math.floor(d/p),g=f,h=d%p,i=c;for(;i>0;){let j=h+i>p?p-h:i,k=new Uint8Array(e.o.data[g].buffer,h,j);a.set(k,b+c-i),i-=j,g++,h=0}this.pos=d+c}async read(a,b){let c=new Uint8Array(a);return await this.readToBuffer(c,0,a,b),c}close(){}async discard(){}async writeULE32(a,b){t.setUint32(0,a,!0),await this.write(s,b)}async writeUBE32(a,b){t.setUint32(0,a,!1),await this.write(s,b)}async writeULE64(a,b){v.setUint32(0,4294967295&a,!0),v.setUint32(4,Math.floor(a/4294967296),!0),await this.write(u,b)}async readULE32(a){let b=await this.read(4,a),c=new Uint32Array(b.buffer);return c[0]}async readUBE32(a){let b=await this.read(4,a),c=new DataView(b.buffer);return c.getUint32(0,!1)}async readULE64(a){let b=await this.read(8,a),c=new Uint32Array(b.buffer);return 4294967296*c[1]+c[0]}async readString(a){let b=this,c=2048,d=void 0===a?b.pos:a;if(d>this.totalSize){if(this.readOnly)throw Error("Reading out of bounds");this._resizeIfNeeded(a)}let e=!1,f="";for(;!e;){let g=Math.floor(d/p),h=d%p;if(void 0===b.o.data[g])throw Error("ERROR");let i=Math.min(c,b.o.data[g].length-h),j=new Uint8Array(b.o.data[g].buffer,h,i),k=j.findIndex(a=>0===a);(e=-1!==k)?(f+=new TextDecoder().decode(j.slice(0,k)),b.pos=g*p+h+k+1):(f+=new TextDecoder().decode(j),b.pos=g*p+h+j.length),d=b.pos}return f}}async function x(a,b,c){if("string"==typeof a&&(a={type:"file",fileName:a,cacheSize:b||65536,pageSize:c||8192}),"file"==a.type)return await g(a.fileName,f.O_TRUNC|f.O_CREAT|f.O_RDWR,a.cacheSize,a.pageSize);if("mem"==a.type)return i(a);if("bigMem"==a.type)return q(a);throw Error("Invalid FastFile type: "+a.type)}async function y(a,b,c){if(a instanceof Uint8Array&&(a={type:"mem",data:a}),"string"==typeof a){let d=await fetch(a).then(function(a){return a.arrayBuffer()}).then(function(a){return new Uint8Array(a)});a={type:"mem",data:d}}if("file"==a.type)return await g(a.fileName,f.O_RDONLY,a.cacheSize,a.pageSize);if("mem"==a.type)return await function(a){let b=new o;return b.o=a,b.allocSize=a.data.byteLength,b.totalSize=a.data.byteLength,b.readOnly=!0,b.pos=0,b}(a);if("bigMem"==a.type)return await function(a){let b=new w;return b.o=a,b.totalSize=(a.data.length-1)*p+a.data[a.data.length-1].byteLength,b.readOnly=!0,b.pos=0,b}(a);throw Error("Invalid FastFile type: "+a.type)}b.createNoOverride=function(a,b,c){if("string"==typeof a&&(a={type:"file",fileName:a,cacheSize:b||65536,pageSize:c||8192}),"file"==a.type)return g(a.fileName,f.O_TRUNC|f.O_CREAT|f.O_RDWR|f.O_EXCL,a.cacheSize,a.pageSize);if("mem"==a.type)return i(a);if("bigMem"==a.type)return q(a);throw Error("Invalid FastFile type: "+a.type)},b.createOverride=x,b.readExisting=y,b.readWriteExisting=function(a,b,c){if("string"==typeof a&&(a={type:"file",fileName:a,cacheSize:b||65536,pageSize:c||8192}),"file"==a.type)return g(a.fileName,f.O_CREAT|f.O_RDWR,a.cacheSize,a.pageSize);if("mem"==a.type)return j(a);if("bigMem"==a.type)return r(a);throw Error("Invalid FastFile type: "+a.type)},b.readWriteExistingOrCreate=function(a,b,c){if("string"==typeof a&&(a={type:"file",fileName:a,cacheSize:b||65536,pageSize:c||8192}),"file"==a.type)return g(a.fileName,f.O_CREAT|f.O_RDWR|f.O_EXCL,a.cacheSize);if("mem"==a.type)return j(a);if("bigMem"==a.type)return r(a);throw Error("Invalid FastFile type: "+a.type)}},4285:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d,e=c(496),f=c(5438),g=c(2223),h=(d=f)&&"object"==typeof d&&"default"in d?d:{default:d},i=function(a){if(a&&a.__esModule)return a;var b=Object.create(null);return a&&Object.keys(a).forEach(function(c){if("default"!==c){var d=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(b,c,d.get?d:{enumerable:!0,get:function(){return a[c]}})}}),b.default=a,Object.freeze(b)}(g);async function j(a,b,c){let d;d="object"==typeof c?c:void 0===c?{singleThread:!1}:{singleThread:c};let f={};if(await i.startReadUniqueSection(a,b,1),f.n8=await a.readULE32(),f.prime=await i.readBigInt(a,f.n8),d.F){if(d.F.p!=f.prime)throw Error("Different Prime");f.F=d.F}else d.getFieldFromPrime?f.F=await d.getCurveFromPrime(f.prime,d.singleThread):d.getCurveFromPrime?(f.curve=await d.getCurveFromPrime(f.prime,d.singleThread),f.F=f.curve.Fr):(f.curve=await e.getCurveFromR(f.prime,d.singleThread),f.F=f.curve.Fr);return f.nVars=await a.readULE32(),f.nOutputs=await a.readULE32(),f.nPubInputs=await a.readULE32(),f.nPrvInputs=await a.readULE32(),f.nLabels=await a.readULE64(),f.nConstraints=await a.readULE32(),f.useCustomGates=void 0!==b[4]&&null!==b[4]&& void 0!==b[5]&&null!==b[5],await i.endReadSection(a),f}async function k(a,b,c,d,e){let f;f="object"==typeof d?d:void 0===d?{}:{logger:d,loggerCtx:e};let g=await i.readSection(a,b,2),j=0,k;k=c.nConstraints>1048576?new h.default:[];for(let l=0;l<c.nConstraints;l++){f.logger&&l%1e5==0&&f.logger.info(`${f.loggerCtx}: Loading constraints: ${l}/${c.nConstraints}`);let m=n();k.push(m)}return k;function n(){let a=[];return a[0]=o(),a[1]=o(),a[2]=o(),a}function o(){let a={},b=g.slice(j,j+4);j+=4;let d=new DataView(b.buffer),e=d.getUint32(0,!0),f=g.slice(j,j+(4+c.n8)*e);j+=(4+c.n8)*e;let h=new DataView(f.buffer);for(let i=0;i<e;i++){let k=h.getUint32(i*(4+c.n8),!0),l=c.F.fromRprLE(f,i*(4+c.n8)+4);a[k]=l}return a}}async function l(a,b,c,d,e){let f;f="object"==typeof d?d:void 0===d?{}:{logger:d,loggerCtx:e};let g=await i.readSection(a,b,3),j=0,k;k=c.nVars>1048576?new h.default:[];for(let l=0;l<c.nVars;l++){f.logger&&l%1e4==0&&f.logger.info(`${f.loggerCtx}: Loading map: ${l}/${c.nVars}`);let m=n();k.push(m)}return k;function n(){let a=g.slice(j,j+8);j+=8;let b=new DataView(a.buffer),c=b.getUint32(0,!0),d=b.getUint32(4,!0);return 4294967296*d+c}}async function m(a,b,c,d,e,f){let g;void 0===(g="object"==typeof b?b:void 0===b?{loadConstraints:!0,loadMap:!1,loadCustomGates:!0}:{loadConstraints:b,loadMap:c,singleThread:d,logger:e,loggerCtx:f}).loadConstraints&&(g.loadConstraints=!0),void 0===g.loadMap&&(g.loadMap=!1),void 0===g.loadCustomGates&&(g.loadCustomGates=!0);let{fd:h,sections:m}=await i.readBinFile(a,"r1cs",1,33554432,4194304),p=await j(h,m,g);return g.loadConstraints&&(p.constraints=await k(h,m,p,g)),g.loadMap&&(p.map=await l(h,m,p,g)),g.loadCustomGates&&(p.useCustomGates?(p.customGates=await n(h,m),p.customGatesUses=await o(h,m)):(p.customGates=[],p.customGatesUses=[])),await h.close(),p}async function n(a,b){await i.startReadUniqueSection(a,b,4);let c=await a.readULE32(),d=[];for(let e=0;e<c;e++){let f={};f.templateName=await a.readString();let g=await a.readULE32();f.parameters=[];for(let h=0;h<g;h++)f.parameters.push(await a.readULE32());d.push(f)}return await i.endReadSection(a),d}async function o(a,b,c){await i.startReadUniqueSection(a,b,5);let d=await a.readULE32(),e=[];for(let f=0;f<d;f++){c.logger&&f%1e5==0&&c.logger.info(`${c.loggerCtx}: Loading constraints: ${f}/${d}`);let g={};g.id=await a.readULE32();let h=await a.readULE32();g.signals=[];for(let j=0;j<h;j++)g.signals.push(await a.readULE64());e.push(g)}return await i.endReadSection(a),e}async function p(a,b){await i.startWriteSection(a,1),await a.writeULE32(b.n8),await i.writeBigInt(a,b.prime,b.n8),await a.writeULE32(b.nVars),await a.writeULE32(b.nOutputs),await a.writeULE32(b.nPubInputs),await a.writeULE32(b.nPrvInputs),await a.writeULE64(b.nLabels),await a.writeULE32(b.constraints.length),await i.endWriteSection(a)}async function q(a,b,c,d){await i.startWriteSection(a,2);for(let e=0;e<b.constraints.length;e++)c&&e%1e4==0&&c.info(`${d}: writing constraint: ${e}/${b.constraints.length}`),await f(b.constraints[e]);function f(c){let d=b.n8,e=b.F||b.curve.Fr,f=Object.keys(c[0]),g=Object.keys(c[1]),h=Object.keys(c[2]),i=new Uint8Array((f.length+g.length+h.length)*(d+4)+12),j=new DataView(i.buffer),k=0;j.setUint32(k,f.length,!0),k+=4;for(let l=0;l<f.length;l++){let m=f[l];j.setUint32(k,m,!0),k+=4,e.toRprLE(i,k,c[0][m]),k+=d}j.setUint32(k,g.length,!0),k+=4;for(let n=0;n<g.length;n++){let o=g[n];j.setUint32(k,o,!0),k+=4,e.toRprLE(i,k,c[1][o]),k+=d}j.setUint32(k,h.length,!0),k+=4;for(let p=0;p<h.length;p++){let q=h[p];j.setUint32(k,q,!0),k+=4,e.toRprLE(i,k,c[2][q]),k+=d}return a.write(i)}await i.endWriteSection(a)}async function r(a,b,c,d){if(await i.startWriteSection(a,3),b.map.length!=b.nVars)throw Error("Invalid map size");for(let e=0;e<b.nVars;e++)c&&e%1e4==0&&c.info(`${d}: writing map: ${e}/${b.nVars}`),await a.writeULE64(b.map[e]);await i.endWriteSection(a)}async function s(a,b,c,d){let e=await i.createBinFile(a,"r1cs",1,3,33554432,4194304);await p(e,b),await q(e,b,c,d),await r(e,b,c,d),await e.close()}b.R1CS_FILE_CONSTRAINTS_SECTION=2,b.R1CS_FILE_CUSTOM_GATES_LIST_SECTION=4,b.R1CS_FILE_CUSTOM_GATES_USES_SECTION=5,b.R1CS_FILE_HEADER_SECTION=1,b.R1CS_FILE_WIRE2LABELID_SECTION=3,b.readConstraints=k,b.readCustomGatesListSection=n,b.readCustomGatesUsesSection=o,b.readMap=l,b.readR1cs=m,b.readR1csHeader=j,b.writeR1cs=s,b.writeR1csConstraints=q,b.writeR1csHeader=p,b.writeR1csMap=r},3558:function(a){"use strict";a.exports={i8:"3.1.8"}},2454:function(a){"use strict";a.exports=JSON.parse('{"O_RDONLY":0,"O_WRONLY":1,"O_RDWR":2,"S_IFMT":61440,"S_IFREG":32768,"S_IFDIR":16384,"S_IFCHR":8192,"S_IFBLK":24576,"S_IFIFO":4096,"S_IFLNK":40960,"S_IFSOCK":49152,"O_CREAT":512,"O_EXCL":2048,"O_NOCTTY":131072,"O_TRUNC":1024,"O_APPEND":8,"O_DIRECTORY":1048576,"O_NOFOLLOW":256,"O_SYNC":128,"O_SYMLINK":2097152,"O_NONBLOCK":4,"S_IRWXU":448,"S_IRUSR":256,"S_IWUSR":128,"S_IXUSR":64,"S_IRWXG":56,"S_IRGRP":32,"S_IWGRP":16,"S_IXGRP":8,"S_IRWXO":7,"S_IROTH":4,"S_IWOTH":2,"S_IXOTH":1,"E2BIG":7,"EACCES":13,"EADDRINUSE":48,"EADDRNOTAVAIL":49,"EAFNOSUPPORT":47,"EAGAIN":35,"EALREADY":37,"EBADF":9,"EBADMSG":94,"EBUSY":16,"ECANCELED":89,"ECHILD":10,"ECONNABORTED":53,"ECONNREFUSED":61,"ECONNRESET":54,"EDEADLK":11,"EDESTADDRREQ":39,"EDOM":33,"EDQUOT":69,"EEXIST":17,"EFAULT":14,"EFBIG":27,"EHOSTUNREACH":65,"EIDRM":90,"EILSEQ":92,"EINPROGRESS":36,"EINTR":4,"EINVAL":22,"EIO":5,"EISCONN":56,"EISDIR":21,"ELOOP":62,"EMFILE":24,"EMLINK":31,"EMSGSIZE":40,"EMULTIHOP":95,"ENAMETOOLONG":63,"ENETDOWN":50,"ENETRESET":52,"ENETUNREACH":51,"ENFILE":23,"ENOBUFS":55,"ENODATA":96,"ENODEV":19,"ENOENT":2,"ENOEXEC":8,"ENOLCK":77,"ENOLINK":97,"ENOMEM":12,"ENOMSG":91,"ENOPROTOOPT":42,"ENOSPC":28,"ENOSR":98,"ENOSTR":99,"ENOSYS":78,"ENOTCONN":57,"ENOTDIR":20,"ENOTEMPTY":66,"ENOTSOCK":38,"ENOTSUP":45,"ENOTTY":25,"ENXIO":6,"EOPNOTSUPP":102,"EOVERFLOW":84,"EPERM":1,"EPIPE":32,"EPROTO":100,"EPROTONOSUPPORT":43,"EPROTOTYPE":41,"ERANGE":34,"EROFS":30,"ESPIPE":29,"ESRCH":3,"ESTALE":70,"ETIME":101,"ETIMEDOUT":60,"ETXTBSY":26,"EWOULDBLOCK":35,"EXDEV":18,"SIGHUP":1,"SIGINT":2,"SIGQUIT":3,"SIGILL":4,"SIGTRAP":5,"SIGABRT":6,"SIGIOT":6,"SIGBUS":10,"SIGFPE":8,"SIGKILL":9,"SIGUSR1":30,"SIGSEGV":11,"SIGUSR2":31,"SIGPIPE":13,"SIGALRM":14,"SIGTERM":15,"SIGCHLD":20,"SIGCONT":19,"SIGSTOP":17,"SIGTSTP":18,"SIGTTIN":21,"SIGTTOU":22,"SIGURG":16,"SIGXCPU":24,"SIGXFSZ":25,"SIGVTALRM":26,"SIGPROF":27,"SIGWINCH":28,"SIGIO":23,"SIGSYS":12,"SSL_OP_ALL":2147486719,"SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION":262144,"SSL_OP_CIPHER_SERVER_PREFERENCE":4194304,"SSL_OP_CISCO_ANYCONNECT":32768,"SSL_OP_COOKIE_EXCHANGE":8192,"SSL_OP_CRYPTOPRO_TLSEXT_BUG":2147483648,"SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS":2048,"SSL_OP_EPHEMERAL_RSA":0,"SSL_OP_LEGACY_SERVER_CONNECT":4,"SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER":32,"SSL_OP_MICROSOFT_SESS_ID_BUG":1,"SSL_OP_MSIE_SSLV2_RSA_PADDING":0,"SSL_OP_NETSCAPE_CA_DN_BUG":536870912,"SSL_OP_NETSCAPE_CHALLENGE_BUG":2,"SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG":1073741824,"SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG":8,"SSL_OP_NO_COMPRESSION":131072,"SSL_OP_NO_QUERY_MTU":4096,"SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION":65536,"SSL_OP_NO_SSLv2":16777216,"SSL_OP_NO_SSLv3":33554432,"SSL_OP_NO_TICKET":16384,"SSL_OP_NO_TLSv1":67108864,"SSL_OP_NO_TLSv1_1":268435456,"SSL_OP_NO_TLSv1_2":134217728,"SSL_OP_PKCS1_CHECK_1":0,"SSL_OP_PKCS1_CHECK_2":0,"SSL_OP_SINGLE_DH_USE":1048576,"SSL_OP_SINGLE_ECDH_USE":524288,"SSL_OP_SSLEAY_080_CLIENT_DH_BUG":128,"SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG":0,"SSL_OP_TLS_BLOCK_PADDING_BUG":512,"SSL_OP_TLS_D5_BUG":256,"SSL_OP_TLS_ROLLBACK_BUG":8388608,"ENGINE_METHOD_DSA":2,"ENGINE_METHOD_DH":4,"ENGINE_METHOD_RAND":8,"ENGINE_METHOD_ECDH":16,"ENGINE_METHOD_ECDSA":32,"ENGINE_METHOD_CIPHERS":64,"ENGINE_METHOD_DIGESTS":128,"ENGINE_METHOD_STORE":256,"ENGINE_METHOD_PKEY_METHS":512,"ENGINE_METHOD_PKEY_ASN1_METHS":1024,"ENGINE_METHOD_ALL":65535,"ENGINE_METHOD_NONE":0,"DH_CHECK_P_NOT_SAFE_PRIME":2,"DH_CHECK_P_NOT_PRIME":1,"DH_UNABLE_TO_CHECK_GENERATOR":4,"DH_NOT_SUITABLE_GENERATOR":8,"NPN_ENABLED":1,"RSA_PKCS1_PADDING":1,"RSA_SSLV23_PADDING":2,"RSA_NO_PADDING":3,"RSA_PKCS1_OAEP_PADDING":4,"RSA_X931_PADDING":5,"RSA_PKCS1_PSS_PADDING":6,"POINT_CONVERSION_COMPRESSED":2,"POINT_CONVERSION_UNCOMPRESSED":4,"POINT_CONVERSION_HYBRID":6,"F_OK":0,"R_OK":4,"W_OK":2,"X_OK":1,"UV_UDP_REUSEADDR":4}')}}])